<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>CycleGraph ‚Äì Presise treningsinnsikter (beta)</title>
  <meta name="description" content="CycleGraph kombinerer watt, puls og v√¶rdata for mer realistiske treningsinnsikter. Precision Watt lanseres snart. Bygget i Norge av Johnny Str√∏m√∏." />
  <meta name="robots" content="index,follow" />

  <!-- Open Graph / Twitter (fint ved deling) -->
  <meta property="og:title" content="CycleGraph ‚Äì Presise treningsinnsikter (beta)" />
  <meta property="og:description" content="CycleGraph kombinerer watt, puls og v√¶rdata for mer realistiske treningsinnsikter." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://cyclegraph.app/" />
  <meta property="og:image" content="logo.png" />

  <link rel="icon" href="favicon.png" />

  <style>
    :root {
      --bg:#0f1115;
      --panel:#141820;
      --fg:#ffffff;
      --muted:#c7c9d1;
      --accent:#7aa2ff;
      --border:#212635;
      --flag-bg:#111522;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 50% -10%, #1a1f2b 0%, var(--bg) 60%);
      color: var(--fg);
      font-family: system-ui, -apple-system, Segoe UI, Inter, Roboto, Helvetica, Arial, sans-serif;
      display: grid;
      place-items: center;
    }
    main { width: 100%; max-width: 880px; padding: 28px; }
    .card {
      position: relative; /* for flagbar placement */
      background: color-mix(in srgb, var(--panel) 96%, transparent);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 28px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .logo {
      display: block;
      width: 96px;
      height: auto;
      margin: 0 auto 14px;
      border-radius: 14px;
    }
    .badge {
      display: inline-block;
      padding: 6px 10px;
      border: 1px solid #2b3243;
      border-radius: 999px;
      font-size: 12px;
      color: #aab0bf;
      letter-spacing: .3px;
      margin-bottom: 10px;
    }
    h1 {
      margin: 6px 0 10px;
      font-size: clamp(28px, 4.5vw, 40px);
      line-height: 1.1;
      text-align: center;
    }
    .lead, .kicker, .contact {
      text-align: center;
      margin: 0 auto;
      color: var(--muted);
    }
    .lead { font-size: 18px; max-width: 60ch; }
    .kicker { font-size: 16px; margin-top: 8px; }
    .contact { font-size: 15px; margin-top: 16px; }
    .cta {
      display: inline-block;
      margin: 16px auto 0;
      padding: 10px 14px;
      border-radius: 10px;
      background: var(--accent);
      color: #0b1020;
      text-decoration: none;
      font-weight: 600;
    }
    footer {
      text-align: center;
      color: #8e95a7;
      font-size: 13px;
      margin-top: 18px;
    }

    /* Spr√•k-knapper (inn p√• kortet, alltid synlige) */
    .flagbar {
      position: absolute;
      top: 12px;
      right: 12px;
      display: flex;
      gap: 10px;
      z-index: 5;
    }
    .flagbtn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 32px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--flag-bg);
      cursor: pointer;
      padding: 0;
      box-shadow: 0 8px 18px rgba(0,0,0,0.25);
      transition: transform .12s ease, box-shadow .12s ease, outline-color .12s ease, background .12s ease;
    }
    .flagbtn:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(0,0,0,0.28); }
    .flagbtn:active { transform: translateY(0); box-shadow: 0 6px 14px rgba(0,0,0,0.2); }
    .flagbtn[aria-pressed="true"] { outline: 2px solid var(--accent); outline-offset: 2px; }
    .flagbtn svg { display:block; width: 28px; height: 20px; border-radius: 4px; }

    /* Litt st√∏rre p√• brede skjermer */
    @media (min-width: 1100px) {
      .flagbtn { width: 52px; height: 36px; }
      .flagbtn svg { width: 32px; height: 22px; }
    }
  </style>
</head>
<body>
  <main>
    <div class="card">
      <!-- üá≥üá¥ / üá¨üáß spr√•kvalg (SVG for konsistent visning p√• PC) -->
      <div class="flagbar" role="group" aria-label="Language selection">
        <button class="flagbtn" id="btn-no" aria-pressed="true" aria-label="Norsk" title="Norsk (NO)">
          <!-- Norsk flagg (SVG) -->
          <svg viewBox="0 0 22 16" aria-hidden="true">
            <defs>
              <clipPath id="clip-no"><rect x="0" y="0" width="22" height="16" rx="2" ry="2"/></clipPath>
            </defs>
            <g clip-path="url(#clip-no)">
              <rect width="22" height="16" fill="#EF2B2D"/>
              <rect x="5" width="3" height="16" fill="#fff"/>
              <rect y="6" width="22" height="3" fill="#fff"/>
              <rect x="6" width="1" height="16" fill="#00205B"/>
              <rect y="7" width="22" height="1" fill="#00205B"/>
            </g>
          </svg>
        </button>
        <button class="flagbtn" id="btn-en" aria-pressed="false" aria-label="English" title="English (EN)">
          <!-- UK flagg (Union Jack simplified SVG) -->
          <svg viewBox="0 0 22 16" aria-hidden="true">
            <defs>
              <clipPath id="clip-gb"><rect x="0" y="0" width="22" height="16" rx="2" ry="2"/></clipPath>
            </defs>
            <g clip-path="url(#clip-gb)">
              <rect width="22" height="16" fill="#012169"/>
              <path d="M0,0 L22,16 M22,0 L0,16" stroke="#fff" stroke-width="3"/>
              <path d="M0,-1 L-1,0 9,7 11,9 23,17 22,16 13,10 9,7 0,1" fill="#C8102E"/>
              <path d="M23,-1 L22,0 13,6 11,7 9,9 0,15 -1,16 0,17 11,9 13,8 22,2 23,1" fill="#C8102E"/>
              <rect x="9.5" width="3" height="16" fill="#fff"/>
              <rect y="6.5" width="22" height="3" fill="#fff"/>
              <rect x="10.25" width="1.5" height="16" fill="#C8102E"/>
              <rect y="7.25" width="22" height="1.5" fill="#C8102E"/>
            </g>
          </svg>
        </button>
      </div>

      <img src="logo.png" alt="CycleGraph logo" class="logo" />

      <div style="text-align:center">
        <span class="badge" data-i18n="badge">CycleGraph (beta)</span>
        <h1 data-i18n="h1">Presise treningsinnsikter fra watt, puls og v√¶r</h1>
        <p class="lead" data-i18n="lead">
          Flaggskipet v√•rt, <strong>Precision Watt</strong>, kombinerer v√¶rdata og analyse for √• gi en mer realistisk watt.
          Perfekt for mosjonister og seri√∏se amat√∏rer.
        </p>
        <p class="kicker" data-i18n="kicker">MVP lanseres snart.</p>

        <!-- CTA: e-post (subject oppdateres av JS for valgt spr√•k) -->
        <a id="cta" class="cta" href="mailto:jstromo83@gmail.com?subject=CycleGraph%20%E2%80%93%20hold%20meg%20oppdatert" data-i18n="cta">
          Gi meg beskjed ved lansering
        </a>

        <p class="contact" data-i18n="contact">Kontakt: Johnny Str√∏m√∏ ¬∑ 483 10 333 ¬∑ jstromo83@gmail.com ¬∑ Horten</p>
      </div>
    </div>

    <footer data-i18n="footer">¬© CycleGraph</footer>
  </main>

  <script>
    // Oversettelser
    const translations = {
      no: {
        _htmlLang: "no",
        _title: "CycleGraph ‚Äì Presise treningsinnsikter (beta)",
        _desc: "CycleGraph kombinerer watt, puls og v√¶rdata for mer realistiske treningsinnsikter. Precision Watt lanseres snart. Bygget i Norge av Johnny Str√∏m√∏.",
        _ogTitle: "CycleGraph ‚Äì Presise treningsinnsikter (beta)",
        _ogDesc: "CycleGraph kombinerer watt, puls og v√¶rdata for mer realistiske treningsinnsikter.",
        badge: "CycleGraph (beta)",
        h1: "Presise treningsinnsikter fra watt, puls og v√¶r",
        lead: "V√•rt flaggskip, Precision Watt, kombinerer v√¶rdata og analyse for √• gi en mer realistisk watt. Perfekt for mosjonister og seri√∏se amat√∏rer.",
        kicker: "MVP lanseres snart.",
        cta: "Gi meg beskjed ved lansering",
        cta_subject: "CycleGraph%20%E2%80%93%20hold%20meg%20oppdatert",
        contact: "Kontakt: Johnny Str√∏m√∏ ¬∑ 483 10 333 ¬∑ jstromo83@gmail.com ¬∑ Horten",
        footer: "¬© CycleGraph"
      },
      en: {
        _htmlLang: "en",
        _title: "CycleGraph ‚Äì Precise training insights (beta)",
        _desc: "CycleGraph blends power, heart rate, and weather data for more realistic insights. Precision Watt is coming soon. Built in Norway by Johnny Str√∏m√∏.",
        _ogTitle: "CycleGraph ‚Äì Precise training insights (beta)",
        _ogDesc: "CycleGraph blends power, heart rate, and weather data for more realistic training insights.",
        badge: "CycleGraph (beta)",
        h1: "Precise training insights from power, heart rate and weather",
        lead: "Our flagship, Precision Watt, blends weather data and analysis to deliver more realistic power. Perfect for fitness riders and serious amateurs.",
        kicker: "MVP launching soon.",
        cta: "Notify me at launch",
        cta_subject: "CycleGraph%20%E2%80%93%20notify%20me%20at%20launch",
        contact: "Contact: Johnny Str√∏m√∏ ¬∑ +47 483 10 333 ¬∑ jstromo83@gmail.com ¬∑ Horten, Norway",
        footer: "¬© CycleGraph"
      }
    };

    // Verkt√∏y
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function setMeta(name, content) {
      let el = document.querySelector(`meta[name="${name}"]`);
      if (!el) {
        el = document.createElement("meta");
        el.setAttribute("name", name);
        document.head.appendChild(el);
      }
      el.setAttribute("content", content);
    }

    function setOG(prop, content) {
      let el = document.querySelector(`meta[property="${prop}"]`);
      if (!el) {
        el = document.createElement("meta");
        el.setAttribute("property", prop);
        document.head.appendChild(el);
      }
      el.setAttribute("content", content);
    }

    // Anvend spr√•k
    function applyLang(lang) {
      const t = translations[lang] ?? translations.no;

      // Synlig tekst
      $$("[data-i18n]").forEach(node => {
        const key = node.getAttribute("data-i18n");
        if (t[key]) node.textContent = t[key];
      });

      // CTA mailto med spr√•kspesifikt subject
      const cta = $("#cta");
      if (cta) {
        const subject = t.cta_subject || translations.no.cta_subject;
        cta.setAttribute("href", `mailto:jstromo83@gmail.com?subject=${subject}`);
      }

      // SEO / dokument
      document.documentElement.lang = t._htmlLang || lang;
      document.title = t._title;
      setMeta("description", t._desc);
      setOG("og:title", t._ogTitle);
      setOG("og:description", t._ogDesc);

      // Marker aktiv knapp
      $("#btn-no")?.setAttribute("aria-pressed", String(lang === "no"));
      $("#btn-en")?.setAttribute("aria-pressed", String(lang === "en"));

      // Husk valget + oppdater URL (?lang=xx)
      localStorage.setItem("lang", lang);
      const url = new URL(window.location.href);
      url.searchParams.set("lang", lang);
      window.history.replaceState({}, "", url.toString());
    }

    // Init
    (function initLang() {
      const url = new URL(window.location.href);
      const q = url.searchParams.get("lang");
      const saved = localStorage.getItem("lang");
      const lang = (q === "en" || q === "no") ? q : (saved || "no");
      applyLang(lang);

      $("#btn-no")?.addEventListener("click", () => applyLang("no"));
      $("#btn-en")?.addEventListener("click", () => applyLang("en"));
    })();
  </script>
</body>
</html>
